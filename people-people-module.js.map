{"version":3,"sources":["./src/app/people/people-list/people-list.component.html","./src/app/people/people-list/people-list.component.ts","./src/app/people/people-detail/people-detail.component.ts","./src/app/people/people-detail/people-detail.component.html","./src/app/people/people.module.ts","./src/app/people/people.service.ts","./src/app/people/people.model.ts","./src/app/people/people-routing.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;IAKQ,qEAAmC;IACjC,mEAAmC;IACnC,mEAAqC;IACrC,mEAAwC;IACxC,qEAAI;IACF,uEAAyC;IAAA,uEAAY;IAAA,4DAAI;IAC3D,4DAAK;IACP,4DAAK;;;IANC,0DAAyB;IAAzB,qFAAyB;IACzB,0DAA2B;IAA3B,uFAA2B;IAC3B,0DAA8B;IAA9B,0FAA8B;IAE7B,0DAAqC;IAArC,iGAAqC;;ACC7C,MAAM,mBAAmB;IAQ9B,YAAoB,aAA4B,EAAU,cAA8B;QAApE,kBAAa,GAAb,aAAa,CAAe;QAAU,mBAAc,GAAd,cAAc,CAAgB;QANxF,YAAO,GAAiB,IAAI,KAAK,EAAU,CAAC;QAC5C,WAAM,GAAW,EAAE,CAAC;IAKwE,CAAC;IAE7F,QAAQ;QAEN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,GAAG,MAAM,EAAE,CAAC,CAAC;QAEjG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC;YACzD,IAAI,EAAE,CAAC,MAAM,EAAE,EAAE;gBAEf,IAAG,MAAM,CAAC,MAAM,EAAC;oBACf,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC;iBACzC;qBAAI;oBACH,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;iBACjC;YAEH,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QAC7B,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;IAC/B,CAAC;IAED,UAAU,CAAC,MAAc;QACvB,IAAG,MAAM;YACP,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,GAAG,MAAM,EAAE,CAAC,CAAC;;YAE5F,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,GAAG,MAAM,EAAE,CAAC,CAAC;IACzF,CAAC;;sFArCU,mBAAmB;mGAAnB,mBAAmB;QDXhC,+EAA8C;QAC9C,yEAAiB;QACf,yEAAuB;QACrB,2EAA+C;QAC7C,wEAAO;QACL,6GAOK;QACP,4DAAQ;QACV,4DAAQ;QACV,4DAAM;QACR,4DAAM;;QAXyB,0DAAU;QAAV,gFAAU;;;;;;;;;;;;;;AEHzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;;;;;;;ICAzC,sEAAuC;IACrC,qEAAI;IAAA,kEAAO;IAAA,4DAAK;IAClB,gEAAI;IACJ,yEAAkB;IAChB,yEAAsB;IACpB,yEAAmB;IACjB,2EAA2B;IAAA,+DAAI;IAAA,4DAAQ;IACvC,yEAAyB;IAAA,wDAAiB;IAAA,4DAAM;IAClD,4DAAM;IACR,4DAAM;IACN,0EAAsB;IAClB,0EAAmB;IACjB,4EAA2B;IAAA,kEAAM;IAAA,4DAAQ;IACzC,0EAAyB;IAAA,wDAAmB;IAAA,4DAAM;IACpD,4DAAM;IACR,4DAAM;IACR,4DAAM;IACN,0EAAiB;IACf,0EAAsB;IACpB,0EAAmB;IACjB,4EAA2B;IAAA,sEAAU;IAAA,4DAAQ;IAC7C,0EAAyB;IAAA,wDAAsB;IAAA,4DAAM;IACvD,4DAAM;IACR,4DAAM;IACN,0EAAsB;IACpB,0EAAmB;IACjB,4EAA2B;IAAA,qEAAS;IAAA,4DAAQ;IAC5C,0EAAyB;IAAA,wDAAsB;IAAA,4DAAM;IACvD,4DAAM;IACR,4DAAM;IACR,4DAAM;IAEN,0EAAiB;IACf,0EAAsB;IACpB,0EAAmB;IACjB,4EAA2B;IAAA,kEAAM;IAAA,4DAAQ;IACzC,0EAAyB;IAAA,wDAAmB;IAAA,4DAAM;IACpD,4DAAM;IACR,4DAAM;IACN,0EAAsB;IACpB,0EAAmB;IACjB,4EAA2B;IAAA,gEAAI;IAAA,4DAAQ;IACvC,0EAAyB;IAAA,wDAAiB;IAAA,4DAAM;IAClD,4DAAM;IACR,4DAAM;IACR,4DAAM;IAEN,0EAAiB;IACf,0EAAsB;IACpB,0EAAmB;IACjB,4EAA2B;IAAA,sEAAU;IAAA,4DAAQ;IAC7C,0EAAyB;IAAA,wDAAsB;IAAA,4DAAM;IACvD,4DAAM;IACR,4DAAM;IACN,0EAAsB;IACpB,0EAAmB;IACjB,4EAA2B;IAAA,qEAAS;IAAA,4DAAQ;IAC5C,0EAAyB;IAAA,wDAAqB;IAAA,4DAAM;IACtD,4DAAM;IACR,4DAAM;IACR,4DAAM;IAEN,0EAAiB;IACb,0EAAsB;IACtB,0EAAmB;IACjB,4EAA2B;IAAA,sEAAU;IAAA,4DAAQ;IAC7C,0EAAyB;IAAA,wDAAsB;IAAA,4DAAM;IACvD,4DAAM;IACR,4DAAM;IACR,4DAAM;IACN,iEAAI;IACJ,0EAAiB;IACf,0EAAqC;IACnC,wEAAgD;IAAA,gEAAI;IAAA,4DAAI;IAC1D,4DAAM;IACR,4DAAM;IAER,4DAAM;;;IAtEyB,2DAAiB;IAAjB,mFAAiB;IAMf,0DAAmB;IAAnB,qFAAmB;IAQnB,0DAAsB;IAAtB,wFAAsB;IAMtB,0DAAsB;IAAtB,wFAAsB;IAStB,0DAAmB;IAAnB,qFAAmB;IAMnB,0DAAiB;IAAjB,mFAAiB;IASjB,0DAAsB;IAAtB,wFAAsB;IAMtB,0DAAqB;IAArB,uFAAqB;IASrB,0DAAsB;IAAtB,wFAAsB;;;IAcrD,sEAAK;IACH,yEAAgC;IAAA,8EAAmB;IAAA,4DAAK;IAC1D,4DAAM;;AD1ED,MAAM,qBAAqB;IAIhC,YAAoB,aAA4B,EAAU,cAA8B;QAApE,kBAAa,GAAb,aAAa,CAAe;QAAU,mBAAc,GAAd,cAAc,CAAgB;QAFxF,WAAM,GAAuB,IAAI,oDAAM,EAAE,CAAC;IAEkD,CAAC;IAE7F,QAAQ;QAEN,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC;YACnC,IAAI,EAAE,MAAM,CAAC,EAAE;gBAEb,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,SAAS,CACzC;oBACE,IAAI,EAAE,MAAM,CAAC,EAAE;wBACb,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;oBACvB,CAAC;oBACD,KAAK,EAAE,KAAK,CAAC,EAAE;wBACb,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;oBAC1B,CAAC;iBACF,CAAC,CAAC;YACP,CAAC;SACF,CAAC,CAAC;IAEL,CAAC;;0FAvBU,qBAAqB;qGAArB,qBAAqB;QCVlC,+EAA8C;QAE9C,kHA6EM;QAEN,6MAIc;;;QAnFR,0DAAc;QAAd,4EAAc;;;;;;;;;;;;;;ACFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AAES;AACkB;AACZ;AACF;AACb;AACiC;;AAgBzE,MAAM,YAAY;;wEAAZ,YAAY;2FAAZ,YAAY;gGAFZ,EAAE,YAPJ;YACP,4DAAY;YACZ,4DAAY;YACZ,qEAAgB;YAChB,uEAAU;YACV,0EAAmB;SACpB;mIAGU,YAAY,mBAZrB,sFAAmB;QACnB,4FAAqB,aAGrB,4DAAY;QACZ,4DAAY;QACZ,qEAAgB;QAChB,uEAAU;QACV,0EAAmB;;;;;;;;;;;;;ACjBvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgE;AAEhB;AACR;;;AAKjC,MAAM,aAAa;IAIxB,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAF5B,YAAO,GAAmC,IAAI,6EAAe,CAAgB,EAAE,CAAC,CAAC;IAEjD,CAAC;IAEzC,IAAW,OAAO;QACd,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;IACvC,CAAC;IAED,GAAG,CAAC,EAAU;QAEZ,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,gCAAgC,EAAE,EAAE,CAAC;aAC9D,IAAI,CAAC,0DAAG,CAAc,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC5D,CAAC;IAED,MAAM,CAAC,KAAa;QAElB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,uCAAuC,KAAK,EAAE,CAAC;aACjE,IAAI,CACH,2DAAI,CAAC,EAAE,CAAC,EACR,0DAAG,CACD,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,KAAU,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CACnE,CAAC,CACH;aACA,SAAS,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAE1D,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;IACrC,CAAC;IAED,UAAU;QAER,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,8BAA8B,CAAC;aACjD,IAAI,CACH,2DAAI,CAAC,EAAE,CAAC,EACR,0DAAG,CAAqB,MAAM,CAAC,EAAE,CAC/B,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,KAAU,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CACzD,CAAC,CACH;aACA,SAAS,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAE1D,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;IACrC,CAAC;IAEO,SAAS,CAAC,MAAc;QAC9B,IAAG,MAAM,GAAG,GAAG;YAAE,OAAO,MAAM,CAAC;QAC/B,IAAG,MAAM,GAAG,GAAG,IAAI,MAAM,GAAG,GAAG;YAAE,OAAO,QAAQ,CAAC;QACjD,OAAO,KAAK,CAAC;IACf,CAAC;IAEO,SAAS,CAAC,KAAU;QAE1B;;;;;;;WAOG;QAEH,MAAM,EAAE,GAAoB,KAAK,CAAC,GAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;QAEnI,MAAM,MAAM,GAAG,IAAI,oDAAM,EAAE,CAAC;QAC5B,MAAM,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;QACzB,MAAM,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;QACzB,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC;QACpC,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC;QAClC,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC;QACpC,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC;QACpC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAC7C,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QAC7B,MAAM,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;QAEzB,qCAAqC;QACrC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,KAAK,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;QAExF,OAAO,MAAM,CAAC;IAChB,CAAC;;0EA9EU,aAAa;gGAAb,aAAa,WAAb,aAAa,mBAFZ,MAAM;;;;;;;;;;;;;ACRpB;AAAA;AAAO,MAAM,MAAM;CAalB;;;;;;;;;;;;;ACZD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AACQ;AACmB;AACM;;;AAEhF,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sFAAmB;KAC/B;IACD;QACE,IAAI,EAAE,KAAK;QACX,SAAS,EAAE,4FAAqB;KACjC;IACD;QACE,IAAI,EAAE,IAAI;QACV,SAAS,EAAE,sFAAmB;KAC/B;CACF,CAAC;AASK,MAAM,mBAAmB;;sFAAnB,mBAAmB;kGAAnB,mBAAmB;sGALrB;YACP,4DAAY;YACZ,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;mIAEU,mBAAmB,cAJ5B,4DAAY","file":"people-people-module.js","sourcesContent":["<link-component tab=\"people\"></link-component>\r\n<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <table class=\"table table-striped table-hover\">\r\n      <tbody>\r\n        <tr *ngFor=\"let people of peoples\">\r\n          <td [innerText]=\"people.name\"></td>\r\n          <td [innerText]=\"people.height\"></td>\r\n          <td [innerText]=\"people.homeworld\"></td>\r\n          <td>\r\n            <a [routerLink]=\"'/people/' + people.id\">More Details</a>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n\r\n","import { ActivatedRoute } from '@angular/router';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { People } from '../people.model';\r\nimport { PeopleService } from '../people.service';\r\nimport { Subscription } from 'rxjs/internal/Subscription';\r\n\r\n@Component({\r\n  selector: 'app-people-list',\r\n  templateUrl: './people-list.component.html',\r\n  styleUrls: ['./people-list.component.scss']\r\n})\r\nexport class PeopleListComponent implements OnInit, OnDestroy {\r\n\r\n  peoples:Array<People> = new Array<People>();\r\n  search: string = '';\r\n\r\n  private paramsSub!: Subscription;\r\n  private peopleSub!: Subscription;\r\n\r\n  constructor(private peopleService: PeopleService, private activatedRoute: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.peopleSub = this.peopleService.peoples.subscribe({ next: result => this.peoples = result });\r\n\r\n    this.paramsSub = this.activatedRoute.queryParams.subscribe({\r\n      next: (params) => {\r\n\r\n        if(params.search){\r\n          this.peopleService.search(params.search)\r\n        }else{\r\n          this.peopleService.getPeoples();\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.paramsSub.unsubscribe();\r\n    this.peopleSub.unsubscribe();\r\n  }\r\n\r\n  loadPeople(search: string) {\r\n    if(search)\r\n      this.peopleService.search(this.search).subscribe({ next: result => this.peoples = result });\r\n    else\r\n      this.peopleService.getPeoples().subscribe({ next: result => this.peoples = result });\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { People } from '../people.model';\r\nimport { PeopleService } from '../people.service';\r\n\r\n@Component({\r\n  selector: 'app-people-detail',\r\n  templateUrl: './people-detail.component.html',\r\n  styleUrls: ['./people-detail.component.scss']\r\n})\r\nexport class PeopleDetailComponent implements OnInit {\r\n\r\n  people: People | undefined = new People();\r\n\r\n  constructor(private peopleService: PeopleService, private activatedRoute: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.activatedRoute.params.subscribe({\r\n      next: params => {\r\n\r\n        this.peopleService.get(params.id).subscribe(\r\n          {\r\n            next: result => {\r\n              this.people = result;\r\n            },\r\n            error: error => {\r\n              this.people = undefined;\r\n            }\r\n          });\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n}\r\n","<link-component tab=\"people\"></link-component>\r\n\r\n<div *ngIf=\"people; else nothingFound\">\r\n  <h4>Details</h4>\r\n<hr>\r\n<div class=\"row\" >\r\n  <div class=\"col-md-6\">\r\n    <div class=\"field\">\r\n      <label class=\"field-label\">Name</label>\r\n      <div class=\"field-value\">{{ people.name }}</div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-6\">\r\n      <div class=\"field\">\r\n        <label class=\"field-label\">Gender</label>\r\n        <div class=\"field-value\">{{ people.gender }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <div class=\"field\">\r\n        <label class=\"field-label\">Birth year</label>\r\n        <div class=\"field-value\">{{ people.birthyear }}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <div class=\"field\">\r\n        <label class=\"field-label\">Homeworld</label>\r\n        <div class=\"field-value\">{{ people.homeworld }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <div class=\"field\">\r\n        <label class=\"field-label\">Height</label>\r\n        <div class=\"field-value\">{{ people.height }}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <div class=\"field\">\r\n        <label class=\"field-label\">Mass</label>\r\n        <div class=\"field-value\">{{ people.mass }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <div class=\"field\">\r\n        <label class=\"field-label\">Hair color</label>\r\n        <div class=\"field-value\">{{ people.hairColor }}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <div class=\"field\">\r\n        <label class=\"field-label\">Eye color</label>\r\n        <div class=\"field-value\">{{ people.eyeColor }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n      <div class=\"field\">\r\n        <label class=\"field-label\">Hair color</label>\r\n        <div class=\"field-value\">{{ people.skinColor }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12 content-right\">\r\n      <a class=\"btn btn-primary\" routerLink=\"/people\">Back</a>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<ng-template #nothingFound>\r\n  <div>\r\n    <h2 class=\"text-center message\">Character not found</h2>\r\n  </div>\r\n</ng-template>\r\n\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { PeopleListComponent } from './people-list/people-list.component';\r\nimport { PeopleRoutingModule } from './people-routing.module';\r\nimport { LinkModule } from '../components/link/link.module';\r\nimport { RouterModule } from '@angular/router';\r\nimport { PeopleDetailComponent } from './people-detail/people-detail.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PeopleListComponent,\r\n    PeopleDetailComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    HttpClientModule,\r\n    LinkModule,\r\n    PeopleRoutingModule,\r\n  ],\r\n  providers: []\r\n})\r\nexport class PeopleModule { }\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\r\nimport { Observable } from 'rxjs/internal/Observable';\r\nimport { map, take, tap } from 'rxjs/operators';\r\nimport { People } from './people.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class PeopleService {\r\n\r\n  private people$: BehaviorSubject<Array<People>> = new BehaviorSubject<Array<People>>([]);\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public get peoples(): Observable<Array<People>> {\r\n      return this.people$.asObservable();\r\n  }\r\n\r\n  get(id: number): Observable<People> {\r\n\r\n    return this.http.get<any>(`https://swapi.dev/api/people/${id}`)\r\n    .pipe(map<any, People>(result => this.mapPeople(result)));\r\n  }\r\n\r\n  search(value: string): Observable<Array<People>> {\r\n\r\n    this.http.get<any>(`https://swapi.dev/api/people?search=${value}`)\r\n    .pipe(\r\n      take(10),\r\n      map<any, Array<People>>(\r\n        result => result.results.map((value: any) => this.mapPeople(value)\r\n      ))\r\n    )\r\n    .subscribe({ next: result => this.people$.next(result) });\r\n\r\n    return this.people$.asObservable();\r\n  }\r\n\r\n  getPeoples(): Observable<Array<People>> {\r\n\r\n    this.http.get<any>('https://swapi.dev/api/people')\r\n    .pipe(\r\n      take(10),\r\n      map<any, Array<People>>(result =>\r\n        result.results.map((value: any) => this.mapPeople(value)\r\n      ))\r\n    )\r\n    .subscribe({ next: result => this.people$.next(result) });\r\n\r\n    return this.people$.asObservable();\r\n  }\r\n\r\n  private mapHeight(height: number) {\r\n    if(height > 200) return 'high';\r\n    if(height < 200 && height > 100) return 'normal';\r\n    return 'low';\r\n  }\r\n\r\n  private mapPeople(value: any): People {\r\n\r\n    /**\r\n     * Pude haber optado por declarar una variable que funcione como contador (ID) e ir incrementando, ya que los\r\n     * registros vienen ordenados por Id desde la API, pero este metodo fallaria si en algun determinado momento\r\n     * la API retorna los registros ordenados por otro campo o llegase a faltar uno en la base de datos.\r\n     *\r\n     * Es por esto que aunque este metodo es mas complicado es mas seguro, ya que no falla en ninguno de los\r\n     * escenarios anteriores.\r\n     */\r\n\r\n    const id: string = (<string>value.url).substring(value.url.lastIndexOf('/', value.url.length - 2) + 1, value.url.lastIndexOf('/'));\r\n\r\n    const person = new People();\r\n    person.id = parseInt(id);\r\n    person.name = value.name;\r\n    person.birthyear = value.birth_year;\r\n    person.eyeColor = value.eye_color;\r\n    person.hairColor = value.hair_color;\r\n    person.skinColor = value.skin_color;\r\n    person.height = this.mapHeight(value.height);\r\n    person.gender = value.gender;\r\n    person.mass = value.mass;\r\n\r\n    // obtenemos el planeta de la persona\r\n    this.http.get<any>(value.homeworld).subscribe(result => person.homeworld = result.name);\r\n\r\n    return person;\r\n  }\r\n}\r\n","export class People {\r\n\r\n  public id!:number;\r\n  public name!: string;\r\n  public height!: string;\r\n  public mass!: string;\r\n  public hairColor!: string;\r\n  public skinColor!: string;\r\n  public eyeColor!: string;\r\n  public birthyear!: string;\r\n  public gender!: string;\r\n  public homeworld!: string;\r\n\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { PeopleListComponent } from './people-list/people-list.component';\r\nimport { PeopleDetailComponent } from './people-detail/people-detail.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PeopleListComponent\r\n  },\r\n  {\r\n    path: ':id',\r\n    component: PeopleDetailComponent\r\n  },\r\n  {\r\n    path: '**',\r\n    component: PeopleListComponent\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class PeopleRoutingModule { }\r\n"],"sourceRoot":"webpack:///"}